/* Desktop Panel Structure */
.parameter-panel {
  width: 380px;                          /* Fixed width on desktop */
  height: 100vh;                         /* Full viewport height */
  display: flex;                         /* Use flexbox layout */
  flex-direction: column;                /* Stack children vertically */
  backdrop-filter: blur(10px);           /* Blur effect behind panel */
  overflow: hidden;                      /* Hide content outside panel */
  border-radius: 1.5rem;                 /* Rounded corners */
  background: transparent;    /* Semi-transparent dark background */
}

/* Container for category navigation tabs on desktop */
.category-navigation {
  padding: 1rem;                         /* Space around navigation */
}

/* Container for parameter controls on desktop */
.panel-content {
  flex: 1;                              /* Take remaining vertical space */
  overflow-y: auto;                     /* Vertical scroll when needed */
  overflow-x: hidden;                   /* Hide horizontal overflow */
  padding: 0 1rem;                      /* Space on sides */
  
  /* Custom scrollbar styling */
  &::-webkit-scrollbar {
    width: 6px;                         /* Thin scrollbar */
  }
  
  &::-webkit-scrollbar-track {
    background: transparent;            /* Invisible scrollbar track */
  }
  
  &::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2); /* Semi-transparent scrollbar */
    border-radius: 3px;                   /* Rounded scrollbar */
  }
}

/* Mobile-specific styles */
@media screen and (max-width: 768px) {
  .parameter-panel {
    width: 100%;                        /* Full width on mobile */
    height: 26vh;                       /* 30% of viewport height */
    position: fixed;                    /* Stick to bottom */
    bottom: 0;                          /* Align to bottom */
    left: 0;                           /* Align to left */
    background: transparent;           /* Clear background */
    justify-content: flex-end;         /* Push content to bottom */
  }

  /* Mobile navigation tabs */
  .category-navigation {
    position: fixed;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    height: 6vh;
    padding: 0;
    z-index: 103;
  }

  /* Mobile parameter content area */
  .panel-content {
    position: fixed;                  /* Stick to viewport */
    bottom: 7vh;                    /* Above navigation */
    left: 50%;                       /* Center horizontally */
    transform: translateX(-50%);      /* Perfect centering */
    width: 100%;                     /* Full width */
    height: 20vh;                    /* 15% of viewport height */
    padding: 0;                      /* No padding */
    z-index: 102;                    /* Stack above panel */
    overflow-x: hidden;                /* Horizontal scroll */
    overflow-y: auto;              /* No vertical scroll */
    transition: all 0.3s ease;       /* Smooth animations */
    
    /* Fade edges when scrolling */
    -webkit-mask-image: linear-gradient(
      to right,
      transparent,
      black 5%,
      black 95%,
      transparent
    );
    mask-image: linear-gradient(
      to right,
      transparent,
      black 5%,
      black 95%,
      transparent
    );
    
    /* Hide scrollbar on mobile */
    &::-webkit-scrollbar {
      display: none;                 /* Hide webkit scrollbar */
    }
    scrollbar-width: none;           /* Hide Firefox scrollbar */
  }

  /* Support for iOS safe areas */
  @supports (padding: max(0px)) {
    .parameter-panel {
      padding-bottom: max(env(safe-area-inset-bottom), 20px); /* Add padding for notches */
    }
  }
}